!function(t){var i={completed:function(t){return t.filter(function(t){return t.completed})},active:function(t){return t.filter(function(t){return!t.completed})}};t.app=new Vue({el:".todos",data:{todoList:store.get("todoList")||[],text:"",todo:{},confirm:null,detail:null,isEditing:!1,alarmList:[],isPlayingMusic:!1},watch:{todoList:{deep:!0,handler:function(){store.set("todoList",this.todoList)}}},computed:{filteredTodoList:function(){return i.active(this.todoList).concat(i.completed(this.todoList))}},methods:{submit:function(){this.text&&(this.todoList.unshift({content:this.text,completed:!1,detail:"",time:"",timer:null,off:!1}),this.text="")},remove:function(t){this.confirm=t},yes:function(){var t=this.todoList.indexOf(this.confirm);this.todoList.splice(t,1),this.confirm=null},no:function(){this.confirm=null},info:function(t){this.detail=t,this.todo={content:t.content,detail:t.detail,time:t.time}},edit:function(){this.isEditing=!0},doneEdit:function(){this.isEditing=!1},update:function(){this.detail.content=this.todo.content,this.detail.detail=this.todo.detail,this.detail.time=this.todo.time,-1==this.alarmList.indexOf(this.detail)&&this.alarmList.push(this.detail),this.alarm()},mask:function(){this.detail=null,this.isEditing=!1},alarm:function(){this.alarmList.forEach(function(t){if(console.log(t.off),!t.off){var i=new Date(t.time).getTime();t.timer=setInterval(function(){var o=(new Date).getTime();i-o<=0&&(t.off=!0,clearInterval(t.timer))},1e3)}})},iKnow:function(t){t.off=!1}},directives:{"to-focus":function(t,i){i.value&&t.focus()},play:function(t,i){i.value&&t.play()}}})}(window);